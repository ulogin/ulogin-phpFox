# uLogin

Donate link: http://ulogin.ru
Tags: ulogin, login, social, authorization
Requires at least: 3.x.x
Tested up to: 3.7.2 Stable
Stable tag: 2.0.
License: GNU General Public License, version 2

**uLogin** — это инструмент, который позволяет пользователям получить единый доступ к различным Интернет-сервисам без необходимости повторной регистрации,
а владельцам сайтов — получить дополнительный приток пользователей из социальных сетей и популярных порталов (Google, Яндекс, Mail.ru, ВКонтакте, Facebook и др.)

## Установка

  - Убедитесь, что у вас не betta версия CMS, иначе модуль может не работать.
  - Скопировать все файлы и папки находящиеся в папке /upload в архиве в корень phpFox.
  - Импортировать продукт uLogin в административной панели(AdminCP - Extensions - Import Products).
  - Модуль заработает сразу после импортирования с настройками по умолчанию.

Теперь снижать уровень безопасности на low в *AdminCP - Settings - Manage Settings - Server Settings - CSRF Protection Level* необязательно.

Более детальную информацию смотрите на сайте https://ulogin.ru/help.php

## Модуль "uLogin"

Данный модуль находится на панели администрации в разделах *"Modules" - "uLogin"*.

Здесь задаются:

**uLogin ID general form** общее поле для всех виджетов uLogin, необязательный параметр (см. *"Настройки виджета uLogin"*);
**uLogin ID Synchronization Form** общее поле для всех виджетов uLogin, необязательный параметр (см. *"Настройки виджета uLogin"*);

## Настройки виджета uLogin

При установке расширения uLogin авторизация пользователей будет осуществляться с настройками по умолчанию.
Для более детальной настройки виджетов uLogin Вы можете воспользоваться сервисом uLogin.

Вы можете создать свой виджет uLogin и редактировать его самостоятельно:

  - для создания виджета необходимо зайти в Личный Кабинет (ЛК) на сайте http://ulogin.ru/lk.php
  - добавить свой сайт к списку Мои сайты и на вкладке Виджеты добавить новый виджет. После этого вы можете отредактировать свой виджет.

В графе «Возвращаемые поля профиля пользователя» вы можете включить поля, например, **Пол** и **Дата рождения**.

**Важно!** Для успешной работы плагина необходимо включить в обязательных полях профиля поле **Еmail** в Личном кабинете uLogin.
Заполнять поля в графе «Тип авторизации» не нужно, т.к. расширение uLogin настроено на автоматическое заполнение данных параметров.

Созданный в Личном Кабинете виджет имеет параметры **uLogin ID**.
Скопируйте значение **uLogin ID** вашего виджета в соответствующее поле в настройках плагина на вашем сайте и сохраните настройки.

Если всё было сделано правильно, виджет изменится согласно вашим настройкам.


## Изменения

####2.0.0
  * Глобальное изменение логики модуля.
  * Oбъединение контроллёров модуля в один token.class.php. Файл attach.class.php удалён.
  * Добавлена новая страница синхронизации/привязки профилей uLogin в настройках профиля (Account Settings). Старая удалена.
  * Настройки модуля доступны с вкладки *"Modules" - "uLogin"*
  * Изменение в структуре таблицы *ulogin_user*. Теперь поле token не используется и хранится в базе. Совместимость со структурой 1.0.0.
  * Расширение дефолтных параметров на более общие.
  * Cнижать уровень безопасности на low стало необязательно.
  * Реализована ajax синхронизация.
  * Улучшена генерация имён.
  * Все кириллические имена транслитерированны для корректного храния в БД.

####1.0.1
  * Добавлен способ получения данных пользователя через curl(1.0.1)

####1.0.0
  * Релиз.
  * Добавлена загрузка профильных фото.
  * Добавлена страница синхронизации/привязки профилей uLogin. Страница находится в Account settings - uLogin Account Settings.
  * Для синхронизации и привязки к текущей учетной записью нужно залогиниться через социальную сеть на странице uLogin account settings.
  * В качестве опций синхронизации можно указать поля из списка, в этом случае указанные поля будут обновленны из выбранной социальной сети.
  * После синхронизации можно использовать выбранную социальную сеть для входа. Процесс можно повторить для привязки дополнительных социальных сетей или для обновления полей;
  * Добавлена более детальная обработка псевдонимов пользователей при регистрации.
  * Исправлен хост сайта при получении токена